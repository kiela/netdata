# yamllint disable rule:line-length
---
- id: 'notify-discord'
  meta:
    name: 'Discord'
    link: 'https://discord.com/'
    categories:
      - notify.cloud
    icon_filename: 'discord.png'
  keywords:
    - discord
    - community
  overview:
    notification_description: "From the Netdata Cloud UI, you can manage your space's notification settings and enable the configuration to deliver notifications on Discord."
    notification_limitations: ''
  setup:
    prerequisites:
      list:
        - title: 'Netdata Access'
          description: |
            - A Netdata Cloud account
            - Access to the Netdata Space as an administrator
        - title: 'Discord Server Configuration'
          description: |
            You need to have a Discord server able to receive [webhook integrations](https://support.discord.com/hc/en-us/articles/228383668).
            Steps to configure your Discord server to receive notifications from Netdata:

            1. Go to `Server Settings` --> `Integrations`
            2. **Create Webhook** or **View Webhooks** if you already have some defined
            3. Specify the **Name** and **Channel** on your new webhook
            4. Use Webhook URL to add your notification configuration on Netdata UI

        - title: ''
          description: |
            
            ## Configuration Steps

            1. Click on the **Space settings** cog (located above your profile icon)
            2. Click on the **Notification** tab
            3. Click on the **+ Add configuration** button (near the top-right corner of your screen)
            4. On the **Discord** card click on **+ Add**
            5. A modal will be presented to you to enter the required details to enable the configuration:
              * **Notification settings** are Netdata specific settings
                - Configuration name - you can optionally provide a name for your configuration you can easily refer to it
                - Rooms - by specifying a list of Rooms you are select to which nodes or areas of your infrastructure you want to be notified using this configuration
                - Notification - you specify which notifications you want to be notified using this configuration: All Alerts and unreachable, All Alerts, Critical only
              * **Integration configuration** are the specific notification integration required settings, which vary by notification method. For Discord:
                - Define the type channel you want to send notifications to: **Text channel** or **Forum channel**
                - Webhook URL - URL provided on Discord for the channel you want to receive your notifications.
                - Thread name - if the Discord channel is a **Forum channel** you will need to provide the thread name as well


    configuration:
      file:
        name: ''
        description: ''
      options:
        description: ''
        folding:
          title: ''
          enabled: true
        list:
          - name: ''
            default_value: ''
            description: ''
            required: false
      examples:
        folding:
          enabled: true
          title: ''
        list:
          - name: ''
            folding:
              enabled: false
            description: ''
            config: ''
